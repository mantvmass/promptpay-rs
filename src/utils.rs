/// ลบตัวอักษรที่ไม่ใช่ตัวเลขออกจากรหัสผู้รับเงิน
/// # Arguments
/// * `id` - รหัสผู้รับเงิน (เช่น เบอร์โทรศัพท์หรือ Tax ID)
/// # Returns
/// สตริงที่มีเฉพาะตัวเลข
pub fn sanitize_target(id: &str) -> String {
    id.chars().filter(|c| c.is_digit(10)).collect()
}

/// จัดรูปแบบรหัสผู้รับเงินให้เป็นไปตามมาตรฐาน PromptPay
/// - ถ้าเป็นเบอร์โทรศัพท์ (< 13 หลัก): แปลงรหัสประเทศจาก "0" เป็น "66" และเติมศูนย์ให้ครบ 13 หลัก
/// - ถ้าเป็น Tax ID หรือ E-Wallet ID (≥ 13 หลัก): ใช้ตามเดิม
/// # Arguments
/// * `id` - รหัสผู้รับเงิน
/// # Returns
/// รหัสผู้รับเงินที่ถูกจัดรูปแบบแล้ว
pub fn format_target(id: &str) -> String {
    if id.len() >= 13 {
        id.to_string()
    } else if id.starts_with("0") {
        // แปลงรหัสประเทศจาก "0" เป็น "66" เฉพาะตัวแรก และเติมศูนย์ให้ครบ 13 หลัก
        let replaced = id.replacen("0", "66", 1);
        format!("{:0>13}", replaced)
    } else {
        // เติมศูนย์ให้ครบ 13 หลัก
        format!("{:0>13}", id)
    }
}
